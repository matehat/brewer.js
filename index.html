<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Brewer.js â€” your asset management friend.</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="css/app.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Share:700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  </head>
  
  <body data-spy="scroll">

    <div class="container main">
    
      <section id="overview">
        <h1 class="title">Brewer.js</h1>
        <h3 class="title">Your asset management best friend.</h3><br />
        <div class="row">
        <div class="span6">
          <p>
            Brewer.js is a tool that eases all sorts of tasks related to the management of 
            stylesheets and javascript source files. From a single command, it takes charge of :
          </p>
          <ul>
            <li>Compilation of coffee-script (or <em>iced</em>) source files to javascript</li>
            <li>Compilation of LESS or Stylus files to CSS</li>
            <li>
              Bundling different files (javascript or CSS) into a single file (optionally compressing it)
              while maintaining references and their proper ordering.
            </li>
            <li>Watching a directory for changes, triggering any or all of the above.</li>
          </ul><br />
        </div>
        <div class="span6">
<pre class="console">
<span class="prompt">$</span> brake watch
<span class="info">Info</span> Watching project /path/to/current/working/directory
<span class="fn">Compiled</span> coffee/test.coffee
<span class="fn">Compiled</span> less/index.less
<span class="fn">Packaged</span> build/css/index.css
<span class="fn">Compressed</span> build/css/index.css
</pre>
        </div>
        </div>
        <br />
      <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#overview">Overview</a></li>
              <li><a href="#installation"><i class="icon-download-alt"></i> Installation</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle"
                  data-toggle="dropdown"><i class="icon-fire"></i> Usage <b class="caret"></b>
                </a>
                <ul class="dropdown-menu" id="usages">
                  <li><a href="#usage">Brewfile</a></li>
                  <li><a href="#CLI">Command-line Interface</a></li>
                </ul>
              </li>
              
              <li><a href="#changelog"><i class="icon-list"></i> Changelog</a></li>
              
              <li><a href="http://github.com/matehat/brewer.js"><i class="icon-github"></i> Source code on Github</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" 
                  data-toggle="dropdown"><i class="icon-file"></i> 
                  Annotated source <b class="caret"></b>
                </a>
                <ul class="dropdown-menu" id="annotatedsource">
                  <li><a href="docs/index.html">index.coffee</a></li>
                  <li><a href="docs/package.html">package.coffee</a></li>
                  <li><a href="docs/project.html">project.coffee</a></li>
                  <li><a href="docs/source.html">source.coffee</a></li>
                  <li><a href="docs/file.html">file.coffee</a></li>
                  <li><a href="docs/brewfile.html">brewfile.coffee</a></li>
                  <li><a href="docs/command.html">command.coffee</a></li>
                  <li><a href="docs/util.html">util.coffee</a></li>
                  <li><a href="docs/javascript.html">javascript.coffee</a></li>
                  <li><a href="docs/css.html">css.coffee</a></li>
                  <li><a href="docs/coffee-script.html">coffee-script.coffee</a></li>
                  <li><a href="docs/iced-coffee-script.html">iced-coffee-script.coffee</a></li>
                  <li><a href="docs/less.html">less.coffee</a></li>
                  <li><a href="docs/stylus.html">stylus.coffee</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
      </section>
      
      <section class="installation"> 
        <h1 id="installation">Installation</h1>
        <br />
        <p>
          To setup Brewer.js, make sure you have 
          <a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">installed Node.js.</a>
          When this is done, enter the terminal and type.
        </p>
        <pre><span class="prompt">$</span> npm install -g brewer</pre>
        
        <p>
          The <code>-g</code> flag is used to make the installation global, so you get access to the <code>brake</code>
          executable. Then, from a project directory you wish to manage using Brewer.js
        </p>
        <pre><span class="prompt">$</span> brake init [&lt;template name&gt;]</pre>
        <p>
          The <code>&lt;template name&gt;</code> part is optional. Anyway, for the moment, there is only <em>one</em> 
          template available, <strong>lesscoffee</strong>, which is also the default. This template sets up LESS and 
          Coffeescript support for the current directory.
        </p>
        <p>
          What this does is create a <a href="#brewfile">Brewfile</a> in the current directory, according to the template
          provided and run <code>brake make</code> (see <a href="#CLI">CLI Usage</a>) on it.
        </p>
      </section>
      
      <section class="usage">
        <h1 id="usage">Usage</h1>
        <h2 id="brewfile">Configuring using a Brewfile</h2><br />
        <p>
          A <strong>Brewfile</strong> is a file that sits at the root folder of your project, named, 
          well, "Brewfile", which syntax is plain <a href="http://coffeescript.org">Coffeescript</a>. 
          It is used to specify the structure of the project to Brewer.js, so it knows what to do when you tell 
          it to <code>make</code>, <code>watch</code> or <code>clean</code>. 
        </p>
        
        <h3>Packages</h3>
        <p>At the top-level of the Brewfile, the following functions are available :</p>
        <script src="https://gist.github.com/1839758.js?file=example.coffee"></script>
        
        <p>Those two functions can be used interchangeably with <code>js</code> or <code>css</code> to be more concise. The 
          <code>package_name</code> is used to identify certain parts of a project, in case you would like to run 
          <code>$ brake make package_name</code>. A <strong>Package</strong> is a conceptual component of a project in which you 
          can define <strong>bundles</strong> and in which files can <em>import</em> each other. A file contained in a package 
          can really be anywhere on the file system -- a package is not bound to a specific directory.</p>
          
        <p>Package can receive options, which can be specified in one of two ways :</p>
        <script src="https://gist.github.com/1839758.js?file=rw-example.coffee"></script>
        
        <p>The <code>build</code> option specifies where to put bundles aggregated from source files, and <code>compress</code> &hellip; 
          well, I think you can guess that one.</p>
        <p>
        <code>@options</code> is a method available in the package definition body, that specifies additional options for the 
        package. Another such method is <code>@bundles(bundle1, bundle2, ...)</code> which specifies file names for bundles in 
        the package (see <strong>Bundles</strong> below). These two methods are prefixed with a <code>@</code>, meaning that they are members 
        of the package body context. Other methods of this kind are available, such as those to define <strong>Sources</strong> 
        in a package.</p>
        
        <h5>Sources</h5>
        <p>Sources represent a folder on the file system, where files can be found. One or many can exist within a package, 
          providing it with files to compile, bundle and compress. A source can be of one of many available types : 
          <em>coffeescript</em> (or <em>icedcoffeescript</em>), <em>javascript</em>, <em>css</em>, <em>less</em> or <em>stylus</em>. One restriction 
          about this source type is that a package can only contain sources that are either of its own type, or that can be compiled into 
          its own type (remember a package also have a type).</p>
        
        <p>Now for a real-world example, so we don't get lost too quickly. Say we want to make a cool looking website using 
          jQuery, Bootstrap and Chosen. Each of these libraries have their own source files, of different types and we want 
          to manage all of that neatly. Here is the directory structure :</p>
        
        <script src="https://gist.github.com/1839758.js?file=rw-example-struct.txt"></script>
        
        <p>So there are files that ends up as javascript and those that ends up as css. Let's write a Brewfile that takes 
          this structure into account.</p>
        
        <script src="https://gist.github.com/1839758.js?file=rw-example2.coffee"></script>
        
        <p>So what we're looking at now is a package for javascripts that looks for coffeescript files in <code>./coffee</code>, 
          as well as for javascript files in <code>./vendor</code>, <code>./vendor/chosen</code> and <code>./vendor/bootstrap/js</code>. Now let's look 
          at what a bundle would look like :</p>
          
        <script src="https://gist.github.com/1839758.js?file=rw-home.coffee"></script>
        
        <p>If we had been running <code>brake watch</code> while we wrote that script and saved it, we would have seen a file appear, 
          named <code>./js/home.js</code>, containing an aggregate file of jquery, chosen and our little script compiled into javascript. 
          Since we didn't provide the <code>output</code> option, a compiled javascript version of just <code>coffee/home.coffee</code> can be found 
          in <code>./_cache</code>. If we wanted it to appear somewhere more meaningful, we could set the <code>output</code> option on a source 
          directive. A more complete example of the above could be :</p>
          
        <script src="https://gist.github.com/1839758.js?file=rw-example3.coffee"></script>
        
        <p>This dedicates a directory <code>./build</code>, to contain files that would be deployed, and all source files in separate 
          directories. You may have noticed we used <code>@css</code> and <code>@js</code> names to mean stylesheets and javascript respectively. 
          As we said earlier, those are drop-in replacements.</p>
        
        <h2 id="CLI">Command-line interface</h2><br />
        
        <p>The command-line interface for brewer provides a few methods to manage your asset project:</p>
        
        <ul>
          <li>
            <pre><span class="prompt">$</span> brake init [&lt;template_name&gt;]</pre>
            <p>
              This command tells brewer to make a Brewfile in the current directory, according to the template 
              provided, and make an initial directory structure to support the project.
            </p>
          </li>
          <li>
            <pre><span class="prompt">$</span> brake [all|&lt;package&gt;*]</pre>
            <p>
              This command tells brewer to look for files to compile (coffeescript, less, etc.) into their 
              javascript or css counterparts, product bundles and compress them if necessary. This intelligently 
              selects only the tasks that needs to be done, skipping files that haven't change.
            </p>
          </li>
          <li>
            <pre><span class="prompt">$</span> brake clean [&lt;package&gt;*]</pre>
            <p>
              This command tells brewer to delete files that strongly depends on source files, such as those 
              that are completely derived from the compilation of another file, bundles and their compressed 
              counterparts.
            </p>
          </li>
          <li>
            <pre><span class="prompt">$</span> brake watch</pre>
            <p>
              This command tells brewer to first run `brake all` on the current directory and watch for 
              changes (file content change, new files, moved files or deleted files).
            </p>
          </li>
          <li>
            <pre><span class="prompt">$</span> brake install</pre>
            <p>
              This command tells Brewer.js to install all missing Node.js modules that it needs to work properly
              with the current project. For instance, had I put a few <code>@coffeescript</code> source directives 
              in the project's Brewfile, Brewer.js will make sure the coffee-script module is available, installing 
              it under its own project directory if not.
            </p>
          </li>
        </ul>
      </section>
      
      <section class="changelog">
        <h1 id="changelog">Changelog</h1><br />
        
        <p>A more detailed changelog is available on 
          <a href="https://github.com/matehat/brewer.js/blob/master/History.md">Github</a>
        </p>
        
        <div class="row">
          <div class="span8"><dl>
          <dt class="version">0.3.9</dt>
          <dd>Added support for CoffeeScript's <a href="http://coffeescript.org/#literate">new literate syntax</a></dd>
          
          <dt class="version">0.3.8</dt>
          <dd>Made javascript compression work with Uglify-js 2.</dd>
          
          <dt class="version">0.3.7</dt>
          <dd>Added alternate namings for Brewfile.</dd>

          <dt class="version">0.3.6</dt>
          <dd>Fixed a few bugs and updated for Node.js v0.8.X.</dd>
          
          <dt class="version">0.3.5</dt>
          <dd>Fixed a few bugs and changed the <code>brewer</code> command for <code>brake</code>.</dd>
          
          <dt class="version">0.3.4</dt>
          <dd>Fixed a few bugs, improved docs and added IcedCoffeescript support.</dd>
          
          <dt class="version">0.3.3</dt>
          <dd>Fixed a few bugs and added a <code>brewer install</code> command.</dd>
          
          <dt class="version">0.3.2</dt>
          <dd>Fixed a bug that made the CSS compression fail under certain circumstances.</dd>
          
          <dt class="version">0.3.1</dt>
          <dd>Bug fix to make the npm installation work.</dd>
          
          <dt class="version">0.3.0</dt>
          <dd>Made CLI commands functional. Also added full documentation under docs/</dd>
          
          <dt class="version">0.2.2</dt>
          <dd>Fixed a minor bug.</dd>
          
          <dt class="version">0.2.1</dt>
          <dd>Added API for <code>Project</code> and <code>Package</code> to clean 
            impermanent files.
          </dd>
          
          <dt class="version">0.2.0</dt>
          <dd>Major code refactor. All the code base is much leaner, cleaner, easier to maintain
            and to extend.
          </dd>
          
          <dt class="version">0.1.0</dt>
          <dd>Initial release. Compilation, compression and packaging works properly for
            LESS, Stylus, Coffeescript, JS and CSS. More file types to come!</dd>
          </dl></div>
        </div>
      </section>
      
      <section id="license">
        <h3>MIT License</h3><br />
        <div class="row"><div class="span8">
        <p>Copyright &copy; 2012 Mathieu D'Amours</p>

        <p>Permission is hereby granted, free of charge, to any person 
        obtaining a copy of this software and associated documentation 
        files (the "Software"), to deal in the Software without 
        restriction, including without limitation the rights to use, 
        copy, modify, merge, publish, distribute, sublicense, 
        and/or sell copies of the Software, and to permit persons to 
        whom the Software is furnished to do so, subject to the 
        following conditions:</p>

        <p>The above copyright notice and this permission notice shall be 
        included in all copies or substantial portions of the Software.</p>

        <p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
        EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES 
        OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
        NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT 
        HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
        WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING 
        FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR 
        OTHER DEALINGS IN THE SOFTWARE.</p>
        </div></div>
      </section>

    </div> <br /><br /><!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/app.min.js"></script>
  </body>
</html>